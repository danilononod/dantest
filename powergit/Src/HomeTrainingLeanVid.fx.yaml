HomeTrainingLeanVid As screen:
    OnVisible: |
        =/*
        Set(vid_pop, false);
        UpdateContext({chow:true});
        Set(vid_init, If(goWatchec=0, VideoData.Duration*0.05, 0));
        UpdateContext({hide:!hide})
        */
        UpdateContext({Confirma:true});
        UpdateContext({Confirma:true});
        UpdateContext({Waittr:false});
        Reset(checkInaactivity)

    Rectangle5 As rectangle:
        Fill: =RGBA(0, 0, 0, 1)
        Height: =601
        Width: =253
        X: =1113
        Y: =89
        ZIndex: =2

    Rectangle1_22 As rectangle:
        Height: =71
        Width: =1366
        Y: =697
        ZIndex: =3

    Label2_17 As label:
        Align: =LayoutAlignItems.Center
        Color: =RGBA(255, 255, 255, 1)
        DisplayMode: =DisplayMode.View
        FontWeight: =FontWeight.Bold
        Height: =86
        Size: =26
        Text: |-
            ="You are watching: " & gal_topic.Selected.Title
        Width: =1116
        Y: =682
        ZIndex: =4

    Timer3 As timer:
        Duration: =34*1000*60 + 7000
        Repeat: =true
        Start: =IsBtnStart
        Text: |-
            =Text(Time(0, 0, Self.Value/1000 + varIncre), "hh:mm:ss")
        Visible: =false
        X: =1116
        Y: =712
        ZIndex: =5

    VideoData As videoPlayback:
        BorderColor: =RGBA(0, 0, 0, 1)
        BorderStyle: =BorderStyle.None
        Fill: =RGBA(0, 0, 0, 1)
        FocusedBorderThickness: =0
        Height: =601
        ImagePosition: =ImagePosition.Center
        Media: =gal_topic.Selected.Remarks
        OnEnd: |
            =Select(varTrigger_btn);
            
            UpdateContext({Waittr:true});
            
            UpdateContext({IsBtnStart: false});
            /*
            RemoveIf(TrainingProfileProgress, Last(Filter(
                        TrainingProfileProgress,
                      // Topic = gal_topic.Selected.Title &&
                     //  User = varUserEmail,
                     //   Program = training_prog_gal.Selected.Value,
                        Reg_ID_ref=ID_gal
                    )).Progress > Progress);
            
            */
        OnPause: |
            =!IsBtnStart 
        ShowControls: =false
        Start: |
            =//IsBtnStart || popgrp || !confirma
            If(IsBtnStart, !Confirma)
        StartTime: |-
            =//If((go_back=go_back*0.95),go_back, go_back)
            goWatchec
        Width: =1113
        Y: =89
        ZIndex: =6

    Image2_3 As image:
        Height: =86
        Image: =SSlogo
        Width: =84
        X: =1282
        Y: =682
        ZIndex: =13

    vid_data_form As form:
        AcceptsFocus: =false
        DataSource: =TrainingProfileProgress_Lean
        DefaultMode: =FormMode.New
        Height: =597
        NumberOfColumns: =1
        SnapToColumns: =false
        Visible: =false
        Width: =460
        Y: =93
        ZIndex: =14

        Reg_ID_ref_DataCard1 As typedDataCard.numberEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Reg_ID_ref"
            Default: |-
                =//Last(Filter(myTrainingReg, Title=varUserEmail, TrainingModule="ESD Annual Certification")).ID
                ID_gal
            DisplayMode: =Parent.DisplayMode
            DisplayName: ="Reg_ID_ref"
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            Required: =false
            Update: =Value(DataCardValue4.Text)
            Width: =460
            X: =0
            Y: =6
            ZIndex: =1

            DataCardKey6 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue4 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =Parent.Default
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                Format: =TextFormat.Number
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey6.Y + DataCardKey6.Height + 5
                ZIndex: =2

            ErrorMessage6 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue4.Y + DataCardValue4.Height
                ZIndex: =3

            StarVisible6 As label:
                Align: =Align.Center
                Height: =DataCardKey6.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey6.Y
                ZIndex: =4

        Topic_DataCard1 As typedDataCard.textualEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Title"
            Default: =ThisItem.Topic
            DisplayMode: =Parent.DisplayMode
            DisplayName: ="Topic"
            Fill: =RGBA(0, 0, 0, 0)
            Height: =
            MaxLength: =DataSourceInfo([@TrainingProfileProgress_Lean], DataSourceInfo.MaxLength, "Title")
            Required: =true
            Update: =DataCardValue3.Text
            Width: =460
            X: =0
            Y: =0
            ZIndex: =25

            DataCardKey5 As label:
                Height: =0
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue3 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =gal_topic.Selected.Title
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                MaxLength: =Parent.MaxLength
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey5.Y + DataCardKey5.Height + 5
                ZIndex: =2

            ErrorMessage5 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue3.Y + DataCardValue3.Height
                ZIndex: =3

            StarVisible5 As label:
                Align: =Align.Center
                Height: =DataCardKey5.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey5.Y
                ZIndex: =4

        TimeDura_DataCard1 As typedDataCard.numberEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="TimeDura"
            Default: =ThisItem.TimeDura
            DisplayMode: =Parent.DisplayMode
            DisplayName: ="TimeDura"
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            Required: =false
            Update: =Value(DataCardValue9.Text)
            Width: =460
            X: =0
            Y: =1
            ZIndex: =25

            DataCardKey12 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue9 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =VideoData.Time
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                Format: =TextFormat.Number
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey12.Y + DataCardKey12.Height + 5
                ZIndex: =2

            ErrorMessage12 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue9.Y + DataCardValue9.Height
                ZIndex: =3

            StarVisible12 As label:
                Align: =Align.Center
                Height: =DataCardKey12.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey12.Y
                ZIndex: =4

        Progress_DataCard1 As typedDataCard.numberEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Progress"
            Default: =ThisItem.Progress
            DisplayMode: =Parent.DisplayMode
            DisplayName: ="Progress"
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            Required: =false
            Update: =Value(DataCardValue10.Text)
            Width: =460
            X: =0
            Y: =2
            ZIndex: =25

            DataCardKey13 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue10 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =VideoData.Time/VideoData.Duration
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                Format: =TextFormat.Number
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey13.Y + DataCardKey13.Height + 5
                ZIndex: =2

            ErrorMessage13 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue10.Y + DataCardValue10.Height
                ZIndex: =3

            StarVisible13 As label:
                Align: =Align.Center
                Height: =DataCardKey13.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey13.Y
                ZIndex: =4

        User_DataCard1 As typedDataCard.textualEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="User"
            Default: =ThisItem.User
            DisplayMode: =Parent.DisplayMode
            DisplayName: ="User"
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            MaxLength: =DataSourceInfo([@TrainingProfileProgress_Lean], DataSourceInfo.MaxLength, "User")
            Required: =false
            Update: =DataCardValue11.Text
            Width: =460
            X: =0
            Y: =3
            ZIndex: =25

            DataCardKey15 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue11 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =varUserEmail
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                MaxLength: =Parent.MaxLength
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey15.Y + DataCardKey15.Height + 5
                ZIndex: =2

            ErrorMessage15 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue11.Y + DataCardValue11.Height
                ZIndex: =3

            StarVisible15 As label:
                Align: =Align.Center
                Height: =DataCardKey15.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey15.Y
                ZIndex: =4

        Program_DataCard1 As typedDataCard.textualEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="Program"
            Default: =
            DisplayMode: =Parent.DisplayMode
            DisplayName: ="Program"
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            MaxLength: =DataSourceInfo([@TrainingProfileProgress_Lean], DataSourceInfo.MaxLength, "Program")
            Required: =false
            Update: =DataCardValue13.Text
            Width: =460
            X: =0
            Y: =4
            ZIndex: =25

            DataCardKey16 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue13 As text:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                Default: =training_prog_gal.Selected.Value
                DelayOutput: =true
                DisplayMode: =Parent.DisplayMode
                MaxLength: =Parent.MaxLength
                PaddingLeft: =5
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey16.Y + DataCardKey16.Height + 5
                ZIndex: =2

            ErrorMessage16 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue13.Y + DataCardValue13.Height
                ZIndex: =3

            StarVisible16 As label:
                Align: =Align.Center
                Height: =DataCardKey16.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey16.Y
                ZIndex: =4

        DateTime_DataCard1 As typedDataCard.dateEditCard:
            BorderStyle: =BorderStyle.Solid
            DataField: ="DateTime"
            Default: =ThisItem.DateTime
            DisplayMode: =Parent.DisplayMode
            DisplayName: ="DateTime"
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            Required: =false
            Update: =DataCardValue14.SelectedDate
            Width: =460
            X: =0
            Y: =5
            ZIndex: =25

            DataCardKey17 As label:
                AutoHeight: =true
                Height: =34
                Text: =Parent.DisplayName
                Width: =Parent.Width - 60
                Wrap: =false
                X: =30
                Y: =10
                ZIndex: =1

            DataCardValue14 As datepicker:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                DefaultDate: =timestamp
                DisplayMode: =Parent.DisplayMode
                EndYear: =Year(Today())+100
                IsEditable: =true
                PaddingBottom: =0
                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                StartYear: =1899
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardKey17.Y + DataCardKey17.Height + 5
                ZIndex: =2

            ErrorMessage17 As label:
                AutoHeight: =true
                Height: =10
                Live: =Live.Assertive
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Text: =Parent.Error
                Visible: =Parent.DisplayMode=DisplayMode.Edit
                Width: =Parent.Width - 60
                X: =30
                Y: =DataCardValue14.Y + DataCardValue14.Height
                ZIndex: =3

            StarVisible17 As label:
                Align: =Align.Center
                Height: =DataCardKey17.Height
                Text: ="*"
                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                Width: =30
                Wrap: =false
                Y: =DataCardKey17.Y
                ZIndex: =4

    Label21 As label:
        Color: =RGBA(255, 255, 255, 1)
        DisplayMode: =DisplayMode.View
        Height: =27
        Italic: =true
        Size: =10
        Text: =If(hide, "Hide Controller","Show Controller")
        Width: =115
        X: =1231
        Y: =463
        ZIndex: =15

    Rectangle3 As rectangle:
        BorderColor: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(0, 0, 0, 1)
        Height: =193
        Visible: =!hide
        Width: =244
        X: =1122
        Y: =489
        ZIndex: =16

    Icon9 As icon.ChevronDown:
        Color: =RGBA(255, 255, 255, 1)
        Height: =26
        Icon: =If(hide, Icon.ChevronDown, Icon.ChevronUp)
        OnSelect: |-
            =UpdateContext({hide:!hide})
        Width: =35
        X: =1325
        Y: =464
        ZIndex: =17

    Icn_Back As icon.Home:
        Height: =48
        Icon: =Icon.BackArrow
        OnSelect: |
            =
            
            ClearCollect(myProfileProgress,ShowColumns(SortByColumns(TrainingProfileProgress_Lean, "Modified",SortOrder.Descending), "ID","Program", "User", "Title", "TimeDura", "Progress", "DateTime", "Modified", "TotalScore", "Reg_ID_ref"));
            
            Reset(VideoData);
            Set(IsBtnStart,false);
            Navigate(TrainingReg)
        Visible: |-
            =//true
            If(
                   Value(Label9.Text) in [
                    0.06,
            0.12,
            0.17,
            0.22,
            0.27,
            0.32,
            0.37,
            0.42,
            0.47,
            0.52,
            0.57,
            0.62,
            0.67,
            0.72,
            0.77,
            0.82,
            0.88,
            0.92,
            0.97
                ]
             //&& btn_diss   
                ,
                true,
                false
            )
        Width: =67
        X: =42
        Y: =20
        ZIndex: =21

    Timer6 As timer:
        Duration: =5000
        OnTimerEnd: |-
            =Set(varIncree, 0);
            //UpdateContext({Confirmaa:true});
            UpdateContext({IsBtnStart:false});
            UpdateContext({chow:false})
        Start: =varIncree=3
        Visible: =false
        X: =1176
        Y: =370
        ZIndex: =22

    Label23_2 As label:
        Color: =RGBA(255, 255, 255, 1)
        Text: |-
            =vid_prog_1.X*0.95 & " " & Text(Time(0, 0, VideoData.Time), "hh:mm:ss")
        Visible: =false
        X: =196
        Y: =28
        ZIndex: =23

    checkInaactivity As timer:
        AutoPause: =If(!IsBtnStart && !Confirma, true, false)
        Duration: =300000
        OnTimerEnd: |-
            =SubmitForm(vid_data_form);
            ResetForm(vid_data_form);
            
            RemoveIf(TrainingProfileProgress_Lean, Last(Filter(
                        TrainingProfileProgress_Lean,
                        Topic = gal_topic.Selected.Title &&
                        User = varUserEmail,
                        Program = training_prog_gal.Selected.Value,
                        Reg_ID_ref=ID_gal
                    )).Progress > Progress);
            
            ClearCollect(myProfileProgress, ShowColumns(TrainingProfileProgress_Lean,"ID","Program", "User", "Title", "TimeDura", "Progress", "DateTime", "Modified", "TotalScore", "Reg_ID_ref"));
            
            Navigate(Screen_Inactivity,ScreenTransition.CoverRight)
        Start: |-
            =//If(Inactiv=1 && IsBtnStart=true && Value(Label9.Text)<100% ,true,false)
            false
        Text: |-
            =Text(Time(0, 0, 300-Self.Value/1000), "hh:mm:ss")
        Visible: =false
        X: =1186
        Y: =203
        ZIndex: =24

    vid_prog_1 As rectangle:
        DisplayMode: =
        Fill: =RGBA(0, 0, 0, 0.1)
        Height: =51
        Visible: =false
        Width: =278
        X: =749
        Y: =639
        ZIndex: =25

    Label9_2 As label:
        Color: =RGBA(255, 255, 255, 1)
        DisplayMode: =DisplayMode.View
        Fill: =RGBA(0, 0, 0, 0.65)
        Height: =26
        Size: =15
        Text: |-
            =Text(Time(0, 0, VideoData.Time), "hh:mm:ss") &" / "& Text(Time(0, 0, VideoData.Duration), "hh:mm:ss")
        Visible: =!Confirma
        Width: =207
        X: =874
        Y: =633
        ZIndex: =26

    HTVid_Controller As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =32

        progress_bar As rectangle:
            DisplayMode: =
            Fill: =RGBA(255, 255, 255, 1)
            Height: =33
            Width: =1002
            X: =57
            Y: =626
            ZIndex: =1

        Label9 As label:
            Color: =RGBA(255, 255, 255, 1)
            DisplayMode: =
            Height: =49
            Size: =20
            Text: =Text(VideoData.Time / VideoData.Duration  *100, "0%")
            Width: =92
            X: =1274
            Y: =558
            ZIndex: =7

        Label16 As label:
            Color: =RGBA(255, 255, 255, 1)
            DisplayMode: =
            Text: |-
                ="Progress:"
            X: =1122
            Y: =567
            ZIndex: =8

        html_pauseprog As htmlViewer:
            DisplayMode: =
            Height: =115
            HtmlText: |-
                =If(!IsBtnStart Or VideoData.Paused,"<img src='" & "https://wdc.box.com/shared/static/tyvhtwql2j1zwfl6ccmkqm1ue73ylxjw.gif" & "' height='80' width='80' style='cursor:pointer' />","<img src='" & "https://wdc.box.com/shared/static/nn0uq543aul1b2fkwwjop2lsvxphps1w.gif" & "' height='65' width='65' style='cursor:pointer' />")
            Width: =115
            X: =1199
            Y: =540
            ZIndex: =9

        html_playpause As htmlViewer:
            DisplayMode: =
            Height: =135
            HtmlText: |-
                =If(
                    !IsBtnStart,
                    "<img src='" & "https://wdc.box.com/shared/static/tz3xchfsaa04x093ccc6q3fqhxlxjavo.png" & "' height='80' width='80' style='cursor:pointer' />",
                    "<img src='" & "https://wdc.box.com/shared/static/zwiz00djdte4wq34hcul3hyx1ua05veo.png" & "' height='80' width='80' style='cursor:pointer' />"
                ) 
            OnSelect: |-
                =UpdateContext({IsBtnStart: !IsBtnStart})
            Tooltip: =If(!IsBtnStart,"Click to Play Again!","Pause or Stop Playing!")
            Width: =88
            X: =1186
            Y: =617
            ZIndex: =10

        HtmlText1_1 As htmlViewer:
            DisplayMode: =If(varIncree>=3 || VideoData.Time<=10, DisplayMode.View, DisplayMode.Edit)
            Height: =82
            HtmlText: |-
                ="<img src='" & "https://bdp-sas.wdc.com/UserPages/7118999/images/SixSigma/rwdbutton.png" & "' height='55' width='55' style='cursor:pointer' />"
            OnSelect: |-
                =Set(varIncre, - 10);
                Set(varIncree, varIncree + 1);
                Set(go_back, RoundUp(1000*VideoData.Time/VideoData.Duration,0))
            Tooltip: =If(varIncree=3,"STOP! Hold for BackOption","("& 3-varIncree&")"& " BackOption")
            Visible: =false
            Width: =64
            X: =1134
            Y: =626
            ZIndex: =11

        HtmlText1_2 As htmlViewer:
            DisplayMode: =If(varIncree>=3, DisplayMode.View, DisplayMode.Edit)
            Height: =71
            HtmlText: |-
                ="<img src='" & "https://bdp-sas.wdc.com/UserPages/7118999/images/SixSigma/fwdbutton.png" & "' height='55' width='55' style='cursor:pointer' />"
            OnSelect: |-
                =Set(varIncre,  10);
                Set(varIncree, varIncree + 1);
                Set(go_back, RoundUp(1000*VideoData.Time/VideoData.Duration,0))
            Tooltip: =If(varIncree=3,"STOP! Hold for FwdOption","("& 3-varIncree&")"& " FwdOption")
            Visible: =false
            Width: =80
            X: =1266
            Y: =626
            ZIndex: =12

    Slider1 As slider:
        Default: =RoundUp(VideoData.Time,0)
        HandleSize: =20
        Height: =31
        Max: =RoundUp(VideoData.Duration, 0)
        OnChange: |-
            =Set(go_back, VideoData.Time);
            goWatchec
        ShowValue: =false
        Tooltip: |-
            ="Overall Progress: "&Text(VideoData.Time / VideoData.Duration  *100, "0%")
        ValueFill: |
            =//RGBA(0, 18, 107, 1)
        Visible: =!Confirma
        Width: =918
        X: =109
        Y: =659
        ZIndex: =34

    Button13 As button:
        OnSelect: |
            =SubmitForm(vid_data_form);
            ResetForm(vid_data_form);
            
            RemoveIf(TrainingProfileProgress_Lean, First(Filter(
                        TrainingProfileProgress_Lean,
                        ID=ID_gal,
                        Topic = gal_topic.Selected.Title &&
                        User = varUserEmail,
                        Program = training_prog_gal.Selected.Value
                    )).Progress > Progress);
                    
            ClearCollect(myProfileProgress, ShowColumns(TrainingProfileProgress_Lean,"Program", "User", "Title", "TimeDura", "Progress", "DateTime" ));
            
            Set(LastVid, Last(Filter(
                        myProfileProgress,
                        Title = gal_topic.Selected.Title
                    )).Progress)
        Text: ="Button"
        Visible: =false
        X: =191
        Y: =20
        ZIndex: =35

    Label24 As label:
        Text: =Last(Filter(myProfileProgress,Title=gal_topic.Selected.Title && User=varUserEmail && gal_topic.Selected.NameRec.Reg_ID_ref=Reg_ID_ref, Program=training_prog_gal.Selected.Value)).Progress <=  Value(Label9.Text) && Value(Label9.Text) in [5%,10%,15%,20%,25%,30%,35%,40%,45%,50%,55%,60%,65%,70%,75%,80%,85%,90%,95%,100%]
        Visible: =false
        X: =241
        Y: =24
        ZIndex: =36

    RecordDataTimer As timer:
        Duration: =5000
        OnTimerEnd: |-
            =//OntimerEnd
            //Set(CollVid, ClearCollect(VidTimeStamp, {Time: Value(VideoData.Time), User: User().FullName, Vid_Topics: Gallery6.Selected.Topics, //Progress: Label9.Text}))
                
            //SubmitForm(vid_data_form);
            /*
            If(IsBlank(Last(Filter(myProfileProgress, Reg_ID_ref=ID_gal, Title=gal_topic.Selected.Title).User)), ResetForm(vid_data_form); SubmitForm(vid_data_form);
            ClearCollect(myProfileProgress, ShowColumns(TrainingProfileProgress_Lean,"ID","Program", "User", "Title", "TimeDura", "Progress", "DateTime", "Modified", "TotalScore", "Reg_ID_ref")), Patch(TrainingProfileProgress_Lean,Last(Filter(myProfileProgress, Reg_ID_ref=ID_gal)),({Progress:Value(Label9.Text), TimeDura:VideoData.Time, DateTime:timestamp, Topic:gal_topic.Selected.Title}))  )
            
            
            RemoveIf(TrainingProfileProgress, Last(Filter(
                        TrainingProfileProgress,
                       //Topic = gal_topic.Selected.Title &&
                      //User = varUserEmail,
                       // Program = training_prog_gal.Selected.Value
                        Reg_ID_ref=ID_gal
                    )).Progress > Progress;  
            */
            //ResetForm(vid_data_form);
            
            //If(IsEmpty(Errors(TrainingProfileProgress)), Notify(" ",NotificationType.Success,1); UpdateContext({btn_diss:false}));
            /*
            ClearCollect(myProfileProgress, ShowColumns(TrainingProfileProgress,"ID","Program", "User", "Title", "TimeDura", "Progress", "DateTime", "Modified", "TotalScore", "Reg_ID_ref"));
            
            
            Set(LastVid, Last(Filter(
                        myProfileProgress,
                        Title = gal_topic.Selected.Title
                    )).Progress)
                    */
            
            Select(varTrigger_btn);
        Start: |
            =//Start prop.
            /*
            Value(Label9.Text) = 5% Or Value(Label9.Text) = 10% Or Value(Label9.Text) = 15% Or Value(Label9.Text) = 20% Or Value(Label9.Text) = 25% Or Value(Label9.Text) = 30% Or Value(Label9.Text) = 35% Or Value(Label9.Text) = 40% Or Value(Label9.Text) = 45% Or Value(Label9.Text) = 50% Or Value(Label9.Text) = 55% Or Value(Label9.Text) = 60% Or Value(Label9.Text) = 65% Or Value(Label9.Text) = 70% Or Value(Label9.Text) = 75% Or Value(Label9.Text) = 80% Or Value(Label9.Text) = 85% Or Value(Label9.Text) = 90% Or Value(Label9.Text) = 95% Or Value(Label9.Text) = 100%) 
            && Value(Label9.Text) > Last(Filter(
                        myProfileProgress,
                        Title = gal_topic.Selected.Title,
                         User = varUserEmail,
                        Program = training_prog_gal.Selected.Value
                    )).Progress
            */
            If( Value(Label9.Text) in [5%,10%,15%,20%,25%,30%,35%,40%,45%,50%,55%,60%,65%,70%,75%,80%,85%,90%,95%,100%] And (VideoData.Time / VideoData.Duration) > 
            Last(Filter(myProfileProgress,Title=gal_topic.Selected.Title && User=varUserEmail && gal_topic.Selected.NameRec.Reg_ID_ref=Reg_ID_ref, Program=training_prog_gal.Selected.Value)).Progress, true,false)
        Visible: =false
        X: =1044
        Y: =708
        ZIndex: =37

    Timer2_3 As timer:
        Duration: =10000
        OnTimerEnd: =Navigate(Training_Complete)
        Start: |+
            =If(Value(Label9.Text)>=99.7%,true,false)
            
            
        Visible: =false
        X: =135
        Y: =690
        ZIndex: =38

    LblSuccessMsg2_6 As label:
        Align: =Align.Center
        AutoHeight: =true
        Fill: =RGBA(255, 191, 0, 1)
        Height: =iconCircle2_1.Height
        Size: =30
        Text: ="Please Wait... Redirecting to Next Activity in " & RoundUp(10- Timer2_3.Value/1000,0) & "s"
        Visible: =If(Value(Label9.Text)=99% || Waittr,true, false)
        Width: =Parent.Width * 0.75
        X: =35
        Y: =149
        ZIndex: =39

    HTVid_header_grp As group:
        Height: =5
        Width: =5
        X: =40
        Y: =20
        ZIndex: =39

        Rectangle1_21 As rectangle:
            Height: =89
            Width: =1366
            ZIndex: =18

        Label2_16 As label:
            Color: =RGBA(255, 255, 255, 1)
            DisplayMode: =DisplayMode.View
            Height: =89
            Text: ="Welcome, " & varUserEmail
            Width: =120
            X: =1244
            ZIndex: =19

        img_user_2 As image:
            Height: =77
            Image: =varUserimg
            RadiusBottomLeft: =img_user_2.Height
            RadiusBottomRight: =img_user_2.Height
            RadiusTopLeft: =img_user_2.Height
            RadiusTopRight: =img_user_2.Height
            Width: =img_user_2.Height
            X: =1160
            Y: =6
            ZIndex: =20

    Button11 As button:
        OnSelect: |-
            =If(IsBlank(Last(Filter(myProfileProgress, Reg_ID_ref=ID_gal).User)), ResetForm(vid_data_form); SubmitForm(vid_data_form), Patch(TrainingProfileProgress_Lean,Last(Filter(myProfileProgress, Reg_ID_ref=ID_gal)),({Progress:Value(Label9.Text), TimeDura:VideoData.Time, DateTime:timestamp}))  )
        Text: ="Button"
        Visible: =false
        X: =497
        Y: =24
        ZIndex: =40

    varTrigger_btn As button:
        OnSelect: |-
            =If(IsBlank(Last(Filter(myProfileProgress, Reg_ID_ref=ID_gal, Title=gal_topic.Selected.Title).User)), ResetForm(vid_data_form); SubmitForm(vid_data_form);
            ClearCollect(myProfileProgress, ShowColumns(TrainingProfileProgress_SixSigma,"ID","Program", "User", "Title", "TimeDura", "Progress", "DateTime", "Modified", "TotalScore", "Reg_ID_ref")), Patch(TrainingProfileProgress_SixSigma,Last(Filter(myProfileProgress, Reg_ID_ref=ID_gal)),({Progress:Value(Label9.Text), TimeDura:VideoData.Time, DateTime:timestamp, Topic:gal_topic.Selected.Title}))  )
        Text: ="TrggerButton"
        Visible: =varUserEmail="Danilo Nonod Jr."
        X: =1160
        Y: =109
        ZIndex: =41

    home_pop_grp As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =48

        pop_cover As rectangle:
            BorderColor: =RGBA(255, 255, 255, 1)
            BorderThickness: =3
            Fill: =RGBA(0, 0, 0, 0.3)
            Height: =574
            Visible: =Confirma
            Width: =855
            X: =150
            Y: =95
            ZIndex: =27

        pop_close_rec As rectangle:
            BorderColor: =RGBA(56, 96, 178, 1)
            BorderStyle: =BorderStyle.None
            BorderThickness: =1
            Fill: =RGBA(0, 0, 0, 1)
            Height: =176
            Visible: =Confirma
            Width: =855
            X: =150
            Y: =277
            ZIndex: =28

        close_pop As icon.Cancel:
            BorderColor: =RGBA(56, 96, 178, 1)
            Color: =RGBA(255, 255, 255, 1)
            Height: =52
            Icon: =Icon.Cancel
            OnSelect: |-
                =Set(goWatchec, If(First(Filter(
                            myProfileProgress,
                            Title = gal_topic.Selected.Title &&
                            User = varUserEmail
                        )).TimeDura=1, 0, First(Filter(
                            myProfileProgress,
                            Title = gal_topic.Selected.Title &&
                            User = varUserEmail
                        )).TimeDura)) ;
                UpdateContext({Confirma: false});
                UpdateContext({IsBtnStart: true})
            Visible: =Confirma && VideoData.Time=goWatchec
            Width: =118
            X: =886
            Y: =98
            ZIndex: =29

        Label20 As label:
            Align: =LayoutAlignItems.Center
            Color: =RGBA(255, 255, 255, 1)
            Height: =44
            Size: =20
            Text: |-
                =If(Confirma && goWatchec=0, "Start New Session?",
                "Continue on Last Session?")
            Visible: =Confirma
            Width: =855
            X: =150
            Y: =321
            ZIndex: =30

        Icon13_1 As icon.Check:
            Color: =RGBA(255, 255, 255, 1)
            Height: =43
            HoverColor: |-
                =ColorFade(ColorValue("#FFBF00"), 20%)
            Icon: =Icon.Check
            OnSelect: |-
                =//Reset(VideoData);
                UpdateContext({Confirma: false});
                UpdateContext({IsBtnStart: true});
                UpdateContext({hide:!hide});
                Set(Inactiv, 1);
                /*
                If(Confirma && goWatchec=0, Set(goWatchec,0),
                Set(goWatchec, First(Filter(
                            myProfileProgress,
                            Title = gal_topic.Selected.Title &&
                            User = varUserEmail
                        )).TimeDura))
                        */
            Visible: =Confirma && VideoData.Time=goWatchec
            Width: =855
            X: =150
            Y: =371
            ZIndex: =31

        progress_bar_1 As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =10
            Visible: =Confirma
            Width: =855
            X: =150
            Y: =443
            ZIndex: =32

        Rectangle2_1 As rectangle:
            Fill: =RGBA(255, 191, 0, 1)
            Height: =10
            Visible: =Confirma
            Width: =855
            X: =150
            Y: =443
            ZIndex: =33

